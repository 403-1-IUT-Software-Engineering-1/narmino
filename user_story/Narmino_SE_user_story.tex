% !TEX TS-program = xelatex

\documentclass[12pt]{article}
\input{commands.tex}

%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
% Title Page
\pagestyle{empty}
%%%%%%%%%%%%%%%%%%%%%%%%
\begin{titlepage}
\begin{center}
\includegraphics[width=3cm]{logo.png} \\
{\fontsize{12}{12}\selectfont \bfseries دانشگاه صنعتی اصفهان}\\
{\fontsize{12}{12}\selectfont \bfseries دانشکده مهندسی برق و کامپیوتر}\\
\vspace{2cm}
{\fontsize{14}{14}\selectfont \bfseries پروژه درس مهندسی نرم‌افزار} \\[5mm]
{\fontsize{18}{18}\selectfont \bfseries گروه نرمینو} \\[5mm]
{\textcolor{Blue}{\rule{\textwidth}{1mm}}}  \\
{\fontsize{24}{24}\selectfont \bfseries
سیستم رأی‌گیری الکترونیکی امن
}\\[5mm]
{\fontsize{16}{16}\selectfont \bfseries داستان کاربر و فرآیندها}
\\
{\textcolor{Blue}{\rule{\textwidth}{1mm}}}  \\
\vspace{1cm}

{\fontsize{14}{14}\selectfont \bfseries اعضای گروه:} \\[3mm]
{\fontsize{16}{16}\selectfont \bfseries نگین دشتی } \\
{\fontsize{16}{16}\selectfont \bfseries محمدرضا ماجد} \\
{\fontsize{16}{16}\selectfont \bfseries سید رضا موسوی } \\
{\fontsize{16}{16}\selectfont \bfseries محمدصالح ناصح  } \\
\vspace{1cm}
{\fontsize{14}{14}\selectfont \bfseries استاد راهنما: } \\[3mm]
{\fontsize{16}{16}\selectfont \bfseries امیرارسلان یاوری } \\
\vfill
{\fontsize{16}{16}\selectfont \bfseries\today}
\end{center}
\end{titlepage}
%%%%%%%%%%%%%%%%%%%%%%%%
\clearpage
\tableofcontents
\clearpage
%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{fancy}
\lhead{}
\rhead{}
\chead{داستان کاربر و فرآیندهای پروژه سیستم رأی‌گیری الکترونیکی امن - گروه نرمینو - دانشگاه صنعتی اصفهان}
%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%
\section{داستان کاربر (\lr{User Story})}
%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{کاربر رأی‌دهنده (\lr{Voter})}
%%%%%%%%%%%%%%%%%%%%%%%%
یک کاربر رأی‌دهنده با استفاده از برنامه‌ای که روی گوشی یا کامپیوتر خانگی خود نصب کرده است و یا مرورگر وب باید موارد زیر برای او به نمایش گذاشته شود تا بتواند در تعامل کارآمد با مدیران سیستم، پشتیبانی و بلاک‌چین باشد. 
  
\subsubsection{صفحه ورود و ثبت‌نام}
\begin{enumerate}[label=(\arabic*)]
\item
نمایش توضیحات مختصر در مورد انتخابات و لینک وبلاگ برای توضیحات در مورد برنامه رأی‌گیری الکترونیکی مبتنی بر بلاک‌چین، امنیت آن و سودمندی‌های آن. 
\item
تعبیه مکانی برای وارد کردن شماره ملی و شماره موبایل (که به نام فرد با شماره ملی وارد شده باشد) و همچنین مکانی  برای وارد کردن یک کد 
\lr{CAPTCHA}
 و امکان تأیید آنها توسط کاربر و ارسال درخواست ثبت‌نام
(\lr{registeration}). 
\item
دریافت خطای مفهوم و واضح در صورت عدم موفقیت ثبت‌نام یا بروز مشکلات دیگر (مانند صاحب صلاحیت نبودن کاربر در انتخابات از سوی مدیران سیستم، عدم تعلق شماره موبایل به کد ملی و غیره).
\item
در صورت تأیید صلاحیت رأی‌دهنده و موفقیت‌آمیز بودن ثبت‌نام، نمایش دادن مکان ورود یک رمز پویا 
(\lr{OTP}\LTRfootnote{One Time Password})
و یک زمان انقضا برای وارد کردن  رمز پویای ارسالی به شماره موبایل وارد شده 
\item
امکان وارد کردن رمز پویای ارسالی به شماره موبایل در صفحه ورود و تأیید آن توسط کاربر
\item
در صورت درست نبودن  رمز پویای وارد شده یا انقضای زمان وارد کردن آن، خطای واضح نمایش داده شود و امکان دریافت دوباره رمز پویا برای یک تعداد محدود دفعات داده شود. 
\item
امکان تماس آنلاین با پشتیبانی برای دریافت کمک در مورد فرآیند ثبت‌نام
\end{enumerate}


\subsubsection{صفحه اصلی}
در صورت درست بودن رمز پویای ارسالی، کاربر وارد صفحه اصلی برنامه می‌شود که دارای امکانات زیر است: 
\begin{enumerate}[label=(\arabic*)]
\item
نمایش اطلاعات عمومی فرد رأی‌دهنده  (برخی اطلاعات شناسنامه‌ای)
\item
مشاهده اطلاعات مختصر در مورد انتخاباتی که کاربر در آن شرکت کرده‌ است.
\item
مشاهده لینک وبلاگ برای راهنمایی در مورد کلیه مراحل فرآیند انتخابات و یا تماس آنلاین با پشتیبانی در مورد فرآیند انتخابات
\item
مشاهده گام‌های انتخابات و رأی‌دهی به صورت پشت سر  (یعنی گام‌های (الف) احراز هویت، (ب) دریافت توکن، (ج) رأی دادن و ارسال توکن رأی، (د) مشاهده نتایج، و در نهایت (ه) راستی‌آزمایی). گام‌های انتخابات باید به ترتیب با انتخاب کاربر فعال شوند و موفقیت‌آمیز به اتمام برسند تا گام بعدی فعال شود. 
\end{enumerate}


\subsubsection{گام احراز هویت}
در این مرحله تنها گام احراز هویت فعال است که کاربر با کلیک روی آن امکانات زیر را باید مشاهده کند: 
\begin{enumerate}[label=(\arabic*)]
\item
نمایش قوانین نحوه احراز هویت، مثل چگونگی دادن مجوز دسترسی برنامه به دوربین، روش خواندن یک متن  در حالی که دروبین روشن است (برای راستی‌آزمایی ربات نبودن فرد)، زمان مورد نیاز برای ضبط ویدیو، نحوه قرارگیری کاربر در تصویر و  غیره.
\item
امکان تأیید قوانین و رفتن به صفحه‌ای که در آن دوربین روشن می‌شود.
\item
در صورت تأیید قوانین، دوربین فعال شود و متن تصادفی ارسالی سیستم بر روی گوشی به نمایش در می‌آید. پایین صفحه نمایش دکمه شروع ضبط قرار دارد که کاربر می‌تواند آن را فعال کند.  
\item
کاربر با اجازه دادن به فعال شدن ضبط دوربین، متن نمایش داده شده را با رعایت قوانین گفته شده می‌خواند و بعد از اتمام دکمه ارسال ویدیو را می‌زند. 
\item
احراز هویت ممکن است برای چند دقیقه تا یک ساعت طول بکشد. نتیجه احراز هویت از طریق پیامک و خود برنامه رأی‌گیری به اطلاع کاربر رسانیده می‌شود.
\item
در صورت موفقیت‌آمیز نبودن احراز هویت و یا عدم تأیید مدیران، کاربر باید دوباره این مرحله را طی کند. 
\item
امکان تماس آنلاین با پشتیبانی برای دریافت کمک در مورد فرآیند احراز هویت.  
\item
در صورت موفقیت‌آمیز بودن احراز هویت و تأیید سیستم انتخابات، نتیجه از طریق پیامک به اطلاع کاربران می‌رسد و در برنامه رأی‌گیری الکترونیکی گام دریافت توکن (یا برگه رأی الکترونیکی امن) فعال می‌شود.
\end{enumerate}

\subsubsection{گام دریافت توکن رأی}
 کاربر در صورت احراز هویت موفقیت‌آمیز می‌تواند روی گام دریافت توکن رأی در صفحه اصلی برنامه کلیک کند و باید امکانات زیر را مشاهده کند: 
\begin{enumerate}[label=(\arabic*)]
\item
ارسال درخواست دریافت توکن برای مدیر سیستم. 
\item
در صورت موفقیت‌آمیز بودن و دریافت توکن توسط کاربر، مرحله بعد رأی‌گیری در صفحه اصلی برنامه فعال می‌شود.
\item
در غیر این صورت پیغام خطای مناسب نمایش داده می‌شود. 
\item
امکان تماس آنلاین با پشتیبانی برای دریافت کمک در مورد فرآیند دریافت توکن رأی.  
\end{enumerate}


\subsubsection{گام ارسال توکن رأی یا به صندوق انداختن رأی}
در صورت موفقیت‌آمیز بودن دریافت توکن رأی، گام رأی‌گیری الکترونیکی فعال می‌شود و کاربر با کلیک بر روی آن موارد زیر را مشاهده می‌کند: 
\begin{enumerate}[label=(\arabic*)]
\item
مشاهده لیست کاندیداهای انتخابات به همراه یک گزینه دیگر با عنوان رأی سفید (رأی سفید به منزله این است که هیچ کاندیدی را انتخاب نمی‌کند). می‌توان گزینه‌های دیگر نیز به این موارد اضافه کرد. 
\item
انتخاب کاندید مدنظر توسط کاربر و ارسال توکن رأی (برای بلاک‌چین و نه مدیر سیستم)
\item
در حین انجام این کار ساده توسط کاربر برنامه کارهای زیادی انجام می‌دهد که در بخش فرآیندها بحث می‌شود. 
\end{enumerate}

\subsubsection{گام مشاهده نتایج}
بعد از ارسال رأی توسط کاربر تمامی مراحل رأی‌گیری غیرفعال می‌شوند. بعد از پایان شمارش آرا، گام مشاهده نتایج فعال می‌شود و کاربر می‌تواند آن را انتخاب کند. این کار به دلیل عدم تأثیرپذیری در نتیجه انتخابات صورت می‌گیرد که می‌تواند بسته به شرایط توسط مدیران سیستم در تنظیمات انتخابات تغییر کند. کاربر با کلیک روی مشاهده نتایج می‌تواند موارد زیر را مشاهده کند:
\begin{enumerate}[label=(\arabic*)]
\item
مشاهده نتایج انتخابات و آرای کاندیداها
\item
مشاهده لینک وبلاگ برای آمارهای دیگر به صورت نموداری و گرافیکی
\end{enumerate}

\subsubsection{گام راستی‌آزمایی}
بعد از مشاهده نتایج انتخابات گام بعدی که راستی‌آزمایی است فعال می‌شود که کاربر می‌تواند با دسترسی به دفترکل توزیع‌شده بلاک‌چین رأی خود را راستی‌آزمایی کند. با کلیک روی این گام موارد زیر نمایش داده می‌شود:
\begin{enumerate}[label=(\arabic*)]
\item
گزینه دریافت و دانلود کل دفتر توزیع شده در بلاک‌چین و راستی‌آزمایی با استفاده از شناسه عمومی کاربر
\item
گزینه راستی‌آزمایی بدون دانلود کل دفتر کل توزیع‌شده 
\item
نمایش راستی‌آزمایی در هر یک از موارد 
\end{enumerate}



\subsection{مدیر انتخابات (\lr{Election Admin})}
%%%%%%%%%%%%%%%%%%%%%%%%
مدیران انتخابات یا به اصطلاح 
\lr{authority}ها
که در یک انتخاب ملی به عنوان نمونه می‌تواند وزارت کشور یا شورای نگهبان  یا غیره باشد باید از طریق یک سامانه امکانات زیر را در اختیار داشته باشد. 
\subsubsection{تنظیمات انتخابات}
مدیر باید بتواند تنظمیات مورد نیاز برای یک انتخابات جدید را انجام بدهد. 
\begin{enumerate}[label=(\arabic*)]
\item
تعریف نام انتخابات و وارد کردن اسامی کاندیداها 
\item
تولید کلید عمومی و خصوصی و ارسال کلید عمومی برای 
\lr{Boot Node}
\begin{itemize}
\item
کلید عمومی برای تأیید اصالت توکن رأی (برگه رأی کاربر) استفاده می‌شود و باید در اختیار ماینرها یا مشارکت‌کنند‌گان در شبکه بلاک‌چین قرار ‌گیرد. این کار از طریق یک گره در شبکه به نام 
\lr{Boot Node}
انجام می‌شود. 
\item
کلید خصوصی برای امضای دیجیتال توکن رأی استفاده می‌شود و باید در سمت مدیران انتخابات مخفی بماند. 
\item
مشارکت‌کنندگان در بلاک‌چین با استفاده از این کلید عمومی می‌توانند از یک طرف جلوی مصرف دوباره توکن را بگیرند و از طرف دیگر قرارداد هوشمند توکن را در شبکه اجرا کنند تا با اجرای  الگوریتم قرارداد هوشمند در هسته بلاک‌چین، یک رأی به آرای کاندید مد نظر توکن رأی اضافه شود و این توکن به دفتر کل توزیع‌شده اضافه شود.
\end{itemize}
\item
تعریف تنظمیات مورد نیاز برای تولید توکن رمزنگاری شده با کلید خصوصی مدیر، توسط یک قرارداد هوشمند الکترونیکی، مثل لیست کاندیداها و تنظیمات مربوط به زمان شروع و پایان ارسال توکن توسط رأی‌دهنده و غیره.  
\item
تعاملاتی که در بخش کاربر رأی‌دهنده با مدیران سیستم گفته شد، در سمت مدیران سیستم به صورت خودکار و الگوریتمیک اجرا می‌شود و نیازی به کار یا عملی از سمت مدیران نیست. این موارد در بخش فرآیندها بحث می‌شوند. 
\end{enumerate}



\subsubsection{مدیریت مشارکت‌کنند‌گان در شبکه بلاک‌چین}
مدیر انتخابات باید بتواند درخواست‌های مشارکت‌کنند‌گان در انتخابات به عنوان ماینر در بلاک‌چین را پاسخ بدهد و با توجه به سیاست‌های اعلامی در وبلاگ آنان را به شبکه بلاک‌چین اضافه کند. 
\begin{enumerate}[label=(\arabic*)]
\item
مشاهده لیست درخواست‌ها برای مشارکت به عنوان ماینر در شبکه بلاک‌چین (که می‌تواند قبل از شروع انتخابات یا در حین آن باشد) و تأیید یا عدم تأیید آنها. 
\item
مشاهده وضعیت هر کدام از مشارکت‌کنند‌گان، قدرت سخت‌افزاری آنها و میزان مشارکت در شبکه در هر لحظه
\item
ارسال لیست مشارکت‌کنند‌گان در شبکه بلاک‌چین برای 
\lr{Boot Node}
(که با استفاده از این گره بوت ارتباط‌ مشارکت‌کنندگان در شبکه با یکدیگر حفظ می‌شود). 
\end{enumerate}




\subsubsection{مدیریت پشتیبان‌ها}
مدیر انتخابات باید بتواند پشتیبان‌های انتخابات را مشاهده و پیگیری کند. 
\begin{enumerate}[label=(\arabic*)]
\item
ثبت حساب جدید پشتیبانی
\item
مشاهده لیست پشتیبان‌ها
\item
مشاهده فعالیت‌های پشتیبان‌ها
\item
مشاهده پیام‌های ارسالی از طرف پشتیبان‌ها
\item
تغییر، حذف و ویرایش حساب‌های پشتیانی
\end{enumerate}



\subsubsection{مدیریت وبلاگ}
\begin{enumerate}[label=(\arabic*)]
\item
ارسال و ویرایش مطالب مفید در مورد رأی‌گیری الکترونیکی امن مبتنی بر بلاک‌چین و ویژگی‌های مهم آن
\item
ارسال مطلب در مورد نحوه رأی‌گیری الکترونیکی و راهنمایی کاربران برای استفاده از برنامه رأی‌گیری
\item
مشاهده نظرات و سؤالات پرسیده شده
\item
ارسال سؤالات متداول و جواب‌های آنها
\item
ارسال مشارکت‌کننده‌گان در شبکه بلاک‌چین به صورت لحظه‌ای در وبلاگ
\item
انتشار آمار لحظه‌ای مربوط به انتخابات در هر لحظه، مثل تعداد رأی‌دهنده‌گان، تعداد ثبت‌نام کنند‌گان و غیره
\item
انتشار نتایج انتخابات و آرای هر کاندید پس از اتمام انتخابات و همچنین آمارهای دیگر به صورت نموداری و گرافیکی
\end{enumerate}


\subsubsection{مدیریت ارتباط با سرور ارسال رمز پویا}
\begin{enumerate}[label=(\arabic*)]
\item
بررسی و مشاهده وضعیت امکان ارتباط سریع و امن با سرور ارسال رمز پویا
\item
مشاهده جدول وضعیت پیام‌های ارسالی برای سرور رمز پویا و زمان پاسخگویی سرور و نتایج آن در ثبت‌نام کاربران
\end{enumerate}


\subsubsection{مدیریت ارتباط با \lr{Boot Node}}
\begin{enumerate}[label=(\arabic*)]
\item
بررسی و مشاهده وضعیت امکان ارتباط سریع و امن با \lr{Boot Node}
\item
مشاهده جدول لحظه‌ای مشارکت‌کنند‌گان در شبکه بلاک‌چین  و وضعیت آنها
\end{enumerate}


\subsubsection{مدیریت ارتباط با سامانه ثبت‌احوال}
\begin{enumerate}[label=(\arabic*)]
\item
بررسی امکان ارتباط سریع و امن با سامانه ثبت‌احوال یا دیتابیسی از افراد و تصاویر آنها
\item
مشاهده جدول لحظه‌ای درخواست‌های ارسال شده برای ثبت‌احوال و زمان پاسخگویی و دیگر آمارهای مورد نیاز
\end{enumerate}



\subsubsection{مدیریت بخش کاربران}

\begin{enumerate}[label=(\arabic*)]
\item
مشاهده لیست کاربران ثبت‌نام شده و وضعیت آنها در برخی از گام‌های انتخابات (ثبت‌نام، احراز هویت و ارسال توکن). 
\item
مشاهده لیست کاربرانی که در هر یک از گام‌های رأی‌گیری به مشکل برخورده‌اند و دلایل و خطاهای این مشکل.
\end{enumerate}



\subsubsection{مشاهده دفتر کل توزیع شده}

\begin{enumerate}[label=(\arabic*)]
\item
مشاهده دفتر کل توزیع شده و آمار کاربرانی که رأی خود را به شبکه بلاک‌چین و دفتر کل توزیع شده داده‌اند و وضعیت آرای انتخابات
\item
انتشار آمار لحظه‌ای مربوط به انتخابات در هر لحظه، مثل تعداد رأی‌دهنده‌گان، تعداد ثبت‌نام کنند‌گان و غیره
\item
انشتار آمار نهایی پس از اتمام زمان انتخابات
\end{enumerate}



\subsection{تأییدکنند‌گان اثبات صلاحیت در شبکه بلاک‌چین}
%%%%%%%%%%%%%%%%%%%%%%%%
تأییدکنند‌گان اثبات صلاحیت 
(\lr{POA validators}\LTRfootnote{Proof of Authority validators})
یا ماینرها می‌تواند هر یک از افراد، نهادها و احزاب در یک جامعه یا کشور باشند که با امکانات سخت‌افزاری خود به برگزاری روند انتخابات و غیرمتمرکز شدن آن کمک شایانی می‌کنند. آنها می‌توانند با ارسال درخواست برای مدیر سیستم رأی‌گیری (به عنوان نمونه از طریق سایت وزارت کشور یا ...) و فقط اجرا کردن هسته شبکه بلاک‌چین بر روی سیستم خود به برگزاری انتخابات و جمع‌آوری آرا کمک کنند.  




\subsection{\lr{Boot Node}}
%%%%%%%%%%%%%%%%%%%%%%%%
گره \lr{Boot} در شبکه بلاک‌چین سروری است که سعی می‌کند گره‌های مختلف شبکه را در هر لحظه از وجود هم باخبر کند تا دفتر کل توزیع شده بین آنها به اشتراک گذاشته شود و به صورت غیرمتمرکز بتوان قراردادهای هوشمند را در هسته شبکه بلاک‌چین اجرا نمود. 




\subsection{بخش پشتیبانی}
%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{پروفایل}

\begin{enumerate}[label=(\arabic*)]
\item
امکان مشاهده پروفایل کاربری و مشاهده اطلاعات حساب 
\item
مشاهده آمار سؤال‌های پاسخ داده شده در هر یک از بخش‌های انتخابات و آمار مربوط به سؤالاتی که بسته نشده‌اند.
\end{enumerate}


\subsubsection{مشاهده لیست سؤالات جدید}

\begin{enumerate}[label=(\arabic*)]
\item
امکان پاسخ‌دهی به به سؤالات دریافتی
\item
امکان فوروارد کردن مشکلات و سؤالات اساسی به مدیر
\end{enumerate}







%%%%%%%%%%%%%%%%%%%%%%%%
\section{فرآیندها}
%%%%%%%%%%%%%%%%%%%%%%%%


\subsection{فرآیندهای کاربر رأی‌دهنده}
%%%%%%%%%%%%%%%%%%%%%%%%


\subsubsection{فرآیند ثبت‌نام}
\begin{enumerate}[label=(\arabic*)]
\item
رأی‌دهنده برنامه رأی‌گیری الکترونیکی امن (نرمینو) را بر روی گوشی موبایل یا کامپیوتر خود نصب می‌کند و یا از طریق مروگرهای وب  و آدرس سایت به آن دسترسی می‌گیرد.
\item
کاربر رأی‌دهنده شماره ملی و شماره موبایلی که به نام خود او باشد را در اینترفیس  
\lr{login}
برنامه وارد می‌کند، و درخواست ثبت‌نام را به صورت رمزنگاری انتها به انتها%
\LTRfootnote{end-to-end encryption}
برای سیستم رأی‌گیری الکترونیکی ارسال می‌کند. 
\item
در صورت صحیح بودن شماره ملی و شماره موبایل، تعلق شماره موبایل به شماره ملی و از طرف دیگر قانونی بودن رأی‌دهنده (با چک شدن شرایطی مثل آیا اصلاً این فرد مجاز به شرکت در این انتخابات هست یا نه)  یک رمز پویا یا 
\lr{OTP}
به شماره موبایل ثبت‌شده ارسال می‌شود و کاربر آن را در برنامه و در جای مناسب وارد می‌کند و آن را برای سیستم ارسال می‌کند. 
\item
در صورت صحیح نبودن شماره ملی یا شماره موبایل یا هر گونه مشکل دیگر مثل قانونی نبودن رأی‌دهنده و غیره، خطای مناسب بر روی برنامه به کاربر نمایش داده می‌شود. 
\item
در صورت صحیح بودن رمز پویای ارسال شده توسط کاربر، او وارد برنامه می‌شود و اطلاعات مختصری در مورد مشخصات انتخاباتی که در آن شرکت کرده است و برخی از مشخصات شناسنامه‌ای کاربر نمایش داده می‌شوند. 
\item
در صورت صحیح نبودن رمز پویای وارد شده توسط کاربر، پیغام خطای مناسب برای او نمایش داده می‌شود و امکان درخواست ارسال مجدد رمز پویا به تعداد مشخص شده و محدود به او داده می‌شود. 
\item
در صورت بروز مشکلات در فرآیند ثبت‌نام و یا عدم اطلاع از فرآیندهای انتخابات کاربر می‌تواند با کلیک بر روی مشاهده وبلاگ وارد وبلاگ انتخابات شود تا راهنمایی‌های نوشتاری و ویدیویی مورد نیاز را مشاهده کند. 
\item
در صورت بروز مشکلات در فرآیند ثبت‌نام کاربر با کلیک بر روی تماس با پشتیبانی وارد فرآیند تعامل آنلاین با پشتیبانی می‌شود.
\end{enumerate}



\subsubsection{فرآیند احراز هویت}
\begin{enumerate}[label=(\arabic*)]
\item
رأی‌دهنده بعد از ورود به اینترفیس برنامه و مشاهده مشخصات انتخابات مورد نظر و مشخصات خود از طریق کلیک بر روی گزینه گام احراز هویت وارد فرآیند احراز هویت می‌شود. 
\item
در اینترفیس احراز هویت، کاربر  راهنمایی‌های موجود در اینترفیس مانند فعال کردن دوربین گوشی یا وب‌کم کامپیوتر را می‌خواند و سیاست‌های مرتبط با ضبط و ارسال ویدیوی زنده از خود را مشاهده می‌کند. 
\item
با تأیید سیاست‌های نوشته شده درخواست احراز هویت برای سیستم ارسال می‌شود.
\item
در صورت دریافت تأیید درخواست احراز هویت، دوربین کاربر فعال شده و  متنی تصادفی بر روی اینترفیس احراز هویت مشاهده می‌شود. 
\item
کاربر در حالی که دوربین روشن است، متن مشاهده شده را با توجه به سیاست‌های اعلامی می‌خواند و ویدیو را ارسال می‌کند. 
\item
کاربر منتظر می‌ماند تا فرآیند احراز هویت کامل شود و پیام تأیید احراز هویت برای او پیامک شود و در برنامه گام بعدی (دریافت توکن رأی) فعال شود. 
این فرآیند ممکن است تا  حداکثر ۱ ساعت طول بکشد.
\item
در صورت بروز خطا یا مناسب نبودن کیفیت ویدیو یا هر گون مشکل احتمالی در فرآیند احراز هویت از سمت مدیران و مقامات انتخابات، به کاربر  از طریق برنامه و پیامک اطلاع‌رسانی می‌شود تا دوباره فرآیند را تکرار کند. 
\end{enumerate}





\subsubsection{فرآیند دریافت توکن رأی}
در صورت موفقیت‌آمیز بودن گام احراز هویت، گام دریافت توکن در اینترفیس رأی‌گیری الکترونیکی برای کاربر فعال می‌شود. 
\begin{enumerate}[label=(\arabic*)]
\item
کاربر با انتخاب  گام دریافت توکن درخواست دریافت توکن را برای سیستم ارسال می‌کند. 
\item
در صورت تأیید درخواست توسط سیستم یک توکن رأی برای کاربر ارسال می‌شود و کاربر پیغام دریافت توکن را دریافت می‌کند و گام بعدی انتخابات برای او فعال می‌شود. 
\begin{itemize}
\item
 این توکن با استفاده از کلید خصوصی مدیران انتخابات ساخته شده است. 
\item
توکن رمزگذاری شده رابطی برای تعامل کاربر با بلاک‌چین برای رأی دادن و حسابرسی است. توکن فقط یک بار قابل استفاده است و نمی‌توان آن را بین کیف پول‌ها انتقال داد یا فروخت. 
\item
قرارداد هوشمند انتخابات شامل موارد زیر است:
\begin{itemize}
\item
 تنظیمات پارامترهای انتخابات مثل شروع و پایان امکان ارسال رأی و عدم استفاده دوباره از توکن
 \item
 لیستی از اعضای 
 \lr{POA}\LTRfootnote{Proof Of Authority}
 یا ماینرها برای ارسال رأی به آنها در شبکه بلاک‌چین 
 \item
 لیست نامزدهای انتخابات و امکان انتخاب یک یا چند تا از آنها بر اساس سیاست‌های مدیران 
 \end{itemize}
\end{itemize}
\item
در صورت عدم تأیید پیغام کاربر پیغام خطای مناسب دریافت می‌کند. 
\end{enumerate}








\subsubsection{فرآیند ارسال توکن رأی برای بلاک‌چین یا به صندوق انداختن رأی}
در صورت موفقیت‌آمیز بودن گام دریافت توکن، اینترفیس رأی‌دهی، گام رأی‌گیری الکترونیکی برای کاربر فعال می‌شود.   
\begin{enumerate}[label=(\arabic*)]
\item
با انتخاب گام رأی‌دهی توسط کاربر، لیست کاندیداها در اینترفیس نمایش داده می‌شوند.
\item
کاربر با انتخاب کاندید مورد نظر و انتخاب دکمه تأیید رأی خود را به سمت دفتر کل توزیع‌شده در بلاک‌چین و برای یکی از ماینرها ارسال می‌کند. 
\item
در ضمن انتخاب دکمه تأیید چندین کار در اینتفرفیس برنامه رخ می‌دهد که به شرح زیر هستند:
\begin{itemize}
\item
تولید کلیدهای عمومی و خصوصی برای کاربر که در آن کلید خصوصی به منزله شناسه خصوصی او و کلید عمومی به منزله شناسه عمومی او در بلاک‌چین است. 
\item
رمزگذاری توکن (برگه رأی) با استفاده از یک الگوریتم رمزگذاری مانند 
\lr{ZKP}
رمزگذاری می‌شود، که با استفاده از کلید عمومی کاربر برای  اثبات رأی بدون افشای آن در شبکه بلاک‌چین مورد استفاده است. 
\item
توکن رمگذاری شده به همراه  
\lr{ZKSMP}\LTRfootnote{Zero Knowlege Set Membership Proof}
آن به سمت دفتر کل توزیع‌شده در بلاک‌چین ارسال می‌شوند. 
\end{itemize}
\end{enumerate}



\subsubsection{فرآیند مشاهده نتایج و اطلاعات راجع به انتخابات}
\begin{enumerate}[label=(\arabic*)]
\item
بعد از اتمام انتخابات و اعلام نتایج کاربر می‌تواند با ورود به برنامه، نتایج انتخابات و آمارهای مربوط به آن را مشاهده کند. 
\end{enumerate}



\subsubsection{فرآیند راستی‌آزمایی رأی کاربر در انتخابات}
\begin{enumerate}[label=(\arabic*)]
\item
\lr{ZKSMP} 
تولید شده توسط کاربر نشان می‌دهد که قرارداد موجود در دفترکل توزیع‌شده متعلق به کاربر مدنظر با شناسه عمومی او است و راستی‌آزمایی فردی در انتخابات و شمرده شدن رأی او را تأیید می‌کند. 
\end{enumerate}


\subsubsection{فرآیند درخواست پشتیبانی}
\begin{enumerate}[label=(\arabic*)]
\item
در هر مرحله از گام‌های انتخابات کاربر با ارسال درخواست پشتیبانی می‌تواند سؤالات خود را با پشتبان‌های انتخابات در میان بگذارد و به صورت آنلاین با آنها در ارتباط باشد.  
\end{enumerate}



\subsection{فرآیندهای مدیران انتخابات}
%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{فرآیند راه‌اندازی و تنظمیات انتخابات}
\begin{enumerate}[label=(\arabic*)]
\item
تولید کلید خصوصی و عمومی با استفاده از یک الگوریتم کلید عمومی امن مثل خم‌های بیضوی یا \lr{RSA} و ارسال کلید عمومی برای تمامی تأییدکنندگان 
 \lr{POA}
 در شبکه بلاک‌چین از طریق 
 \lr{Boot Node}. 
 \begin{itemize}
\item
قراردادهای هوشمند  توکن  در سمت مدیران سیستم با استفاده از کلید خصوصی امضا می‌شوند. کلید خصوصی باید مخفی بماند. 
\item
 تأییدکنندگان 
 \lr{POA}
 در شبکه بلاک‌چین می‌توانند با استفاده از این کلید عمومی قراردادهای ارسالی توسط هر رأی‌دهنده به سمت دفترکل توزیع‌شده را تأیید و راستی‌آزمایی کنند و از مصرف مجدد آن جلوگیری کنند و غیره. 
 \end{itemize}
\item
مقداردهی اولیه سیاست‌های انتخابات و قرار دادن لیست کاندیداها و ضوابط رأی‌دهی در قراردادهای هوشمند
\item
برقراری ارتباط با سرعت بالا و امن از طریق یک \lr{API} با سامانه ثبت احوال یا یک دیتابیسی از کاربران که شامل مشخصات و تصاویر آنها باشد. 
\item
برقراری ارتباط با سرعت بالا و امن از طریق یک \lr{API} با سامانه هوش مصنوعی تشخیص زنده بودن ویدیوهای ارسالی کاربران. 
\item
برقراری ارتباط با سرعت بالا و امن از طریق یک \lr{API} با سامانه ارسال پیام کوتاه
\end{enumerate}

\subsubsection{فرآیند ثبت‌نام رأی‌دهندگان}
\begin{enumerate}[label=(\arabic*)]
\item
در صورت دریافت درخواست ثبت‌نام از سمت یک کلاینت، شماره ملی و شماره موبایل را در دیتابیس و یا از طریق  \lr{API}  با سامانه ثبت‌احوال چک می‌کند.
\item
در صورتی که شماره موبایل به نام شماره ملی ثبت شده باشد و سیاست‌های کلی انتخابات مثل سن و واجدشرایط بودن و غیره رعایت شده باشند، یک کد 
\lr{OTP}
تصادفی تولید و به همراه شماره موبایل کاربر برای سامانه ارسال پیامک می‌فرستد. در غیر این صورت یک پیغام خطا را به سمت کلاینت مورد نظر ارسال می‌کند. 
\item
در صورتی که در زمان مناسب و تعیین شده کاربر کد ارسالی را برای سیستم ارسال کند، برخی از اطلاعات در مورد مشخصات انتخابات و مشخصات خود کاربر برای کلاینت ارسال می‌شود. در این صورت کاربر اطلاعات را دریافت کرده و 
\lr{login}
می‌شود. 
\end{enumerate}


\subsubsection{فرآیند احراز هویت رأی‌دهندگان}
\begin{enumerate}[label=(\arabic*)]
\item
در صورت دریافت درخواست احراز هویت از سمت یک کلاینت، سیستم رأی‌گیری برای او درخواست ارسال ویدیو را به همراه یک متن تولید شده به صورت تصادفی را ارسال می‌کند. 
\item
در صورت ارسال ویدیو از سمت کلاینت، ویدیو  و متن تولید شده را برای دو سامانه تشخیص هویت فرد (مثل ثبت‌احول) و سامانه تشخیص زنده بودن ویدیو (سامانه‌ای بر اساس هوش مصنوعی که می‌تواند تشخیص بدهد که فرد به صورت زنده در حال خواندن متن مورد نظر است) ارسال می‌کند. 
\item
در صورت تأیید ویدیو از سمت دو سامانه، پیام تأیید هویت برای کاربر از طریق اینترنت و از طریق پیامک ارسال می‌شود. 
\end{enumerate}


\subsubsection{فرآیند تولید توکن رمزنگاری شده}
\begin{enumerate}[label=(\arabic*)]
\item
به محض تأیید هویت در سامانه رأی‌گیری الکترونیکی یک توکن در قالب قرارداد هوشمند الکترونیکی با استفاده از کلید خصوصی سیستم  تولید می‌شود که کاربردهای زیر را دارد:
\begin{itemize}
\item
اثبات اینکه که کاربر مجاز به رأی‌دادن هست و بیش از یک بار نتواند از توکن برای رأی دادن استفاده کند. کلید عمومی سیستم رأی‌دهی قبلاً برای تمامی مشارکت‌کنند‌گان در بلاک‌چین ارسال شده است که با استفاده از آن می‌توانند تراکنش‌ها (در اینجا مجاز بودن رأی‌دهنده) را اثبات کنند. 
\item
تنظیم پارامترهایی برای انجام انتخابات مثل زمان شروع استفاده کاربر از توکن برای انتخاب و زمان پایان آن. 
\item
همچنین لیست کاندیداها و لیست اعضای تأییدکننده 
\lr{POA} 
یا مشارکت‌کنندگان در بلاک‌چین در این قرارداد الکترونیکی قرار دارد که کاربر رأی‌دهنده باید انتخاب خود را بر اساس لیست کاندیداها در قرارداد هوشمند انجام دهد و برای بلاک‌چین ارسال کند. 
\end{itemize}
\item
در صورت دریافت درخواست رأی‌دهی از سمت کلاینتی که احراز هویت شده است، سیستم توکن رمزگذاری شده (برگه رأی) را برای او ارسال می‌کند. 
\item
همزمان با ارسال توکن، لیست کاندیداها نیز برای کلاینت ارسال می‌شوند که در اینترفیس کلاینت نمایش داده شوند. 
\item
همچنین مهلت استفاده از توکن رأی‌گیری نیز برای کلاینت ارسال می‌شود تا به او نمایش داده شود. 
\end{enumerate}



\subsubsection{فرآیند مشاهده نتایج انتخابات}
\begin{enumerate}[label=(\arabic*)]
\item
با اجرای قراردادهای هوشمند در ماشین مجازی شبکه بلاک‌چین توسط مشارکت‌کنند‌گان (ماینرها)، توکن مانند یک نرم‌افزار اجرا می‌شود و همه مشارکت‌کنند‌گان می‌توانند بروزرسانی‌ها را ببینند. با اجرای قرارداد شمارش آرا نیز در شبکه بلاک‌چین انجام می‌شود.  
\item
چون شبکه بلاک‌چین و دفتر کل توزیع‌شده می‌تواند در دسترس همه باشد، مدیران انتخابات نیز می‌توانند نتایج را مشاهده کنند. 
\end{enumerate}


\subsubsection{ارسال نتایج نهایی و آمارهای مرتبط}
\begin{enumerate}[label=(\arabic*)]
\item
با اتمام فرآیند شمارش آرا مدیران سیستم نتایج و آمار مربوطه را در وبلاگ بروزرسانی می‌کنند. 
\end{enumerate}



\subsection{فرآیندهای تأییدکنند‌گان \lr{POA} در شبکه بلاک‌چین}
%%%%%%%%%%%%%%%%%%%%%%%%
تأییدکنند‌گان  اثبات صلاحیت%
(\lr{POA validators}\LTRfootnote{Proof of Authority validators})
یا مشارکت‌کننده‌گان در شبکه بلاک‌چین، مانند ماینرها در سیستم بلاک‌چین بیت‌کوین عمل می‌کنند. آنها تراکنش‌ها را تأیید می‌کنند و در مرحله رأی‌گیری آنها را به بلاک‌چین اضافه می‌کنند. ماینرها مشارکت‌کنند‌گان در شبکه بلاک‌چین هستند که در یک فرآیند انتخاباتی می‌تواند افراد یا احزاب یا نهادها باشند. هر کس بخواهد به عنوان مشارکت‌کننده سخت‌افزار خود را در اختیار سیستم انتخابات قرار دهد می‌تواند با ثبت‌نام در سایت انتخابات، ماشین مجازی شبکه بلاک‌چین را دریافت نموده و بر روی سیستم سرور خود نصب کند و به عنوان یک ماینر به فرآیند انتخابات و غیرمتمرکز شدن آن کمک کند. 

در یک قرارداد هوشمند%
\LTRfootnote{smart contract}، 
توافقات مستقیماً در کد برنامه در یک عبارت 
\lr{if-when} 
نوشته می‌شود. هنگامی که الزامات عبارات 
\lr{if-when} 
برآورده می‌شود، کد برنامه شرایط قرارداد هوشمند را اجرا می‌کند.

تأییدکنند‌گان اثبات صلاحیت یا مشارکت‌کنندگان در شبکه بلاک‌چین،  توکن رأی‌گیری رمزنگاری شده و شامل قرارداد هوشمند را دریافت می‌کنند و سپس آن را به داخل یک ماشین مجازی 
(\lr{VM}\LTRfootnote{virtual machine }) 
منتقل می‌کند. این ماشین مجازی، قرارداد هوشمند را به عنوان ورودی می گیرد و آن را مانند نرم‌افزاری اجرا می‌کند که در آن همه مشارکت‌کنندگان در شبکه می‌توانند بروزرسانی‌ها را تماشا کنند. 




\subsection{فرآیندهای \lr{Boot Node}}
%%%%%%%%%%%%%%%%%%%%%%%%
\lr{BootNode} 
(یا سرویس کشف) گره‌ای است که توسط اعضایی با امکان دسترسی  به سیستم میزبانی می‌شوند. آنها به سایر نودها در کشف کمک می‌کنند و با فراهم کردن یک 
\lr{IP} 
ثابت یا اندپوینت
\lr{API} 
داده که حاوی مجموعه‌ای از اطلاعات اتصال است، به سایر گره ها کمک می‌کنند تا همدیگر را کشف کنند و سهولت اتصال فراهم شود.


\end{document}    
